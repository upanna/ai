<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upanna - Post Detail</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
   <header>
    <h1>Upanna</h1>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="live.html">Live</a></li>
            <li><a href="profile.html">Profile</a></li>
            <li><a href="postlist.html">Post</a></li>
            <li id="nav-chatroom-link" style="display: none;"><a href="chatroom.html">Chatroom</a></li>
            <li id="nav-message-link" style="display: none;"><a href="message.html">Message</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>
    <div id="auth-section">
        <span id="user-display"></span>
        <button id="btn-login">Login</button>
        <button id="btn-logout" style="display:none;">Logout</button>
    </div>
</header>

    <main class="main-layout center-content-only">
        <section id="debug-msg" class="debug-msg"></section>

        <section id="post-detail-section" class="card">
            <h2 id="post-title">Loading Post...</h2>
            <p id="post-meta" class="post-meta">Loading details...</p>
            <div id="post-content-display" style="margin-top: 20px;">
                <p>Loading content...</p>
            </div>

            <div id="post-actions" class="post-actions" style="display: none;">
                <button id="like-post-btn" data-post-id="">Like (<span id="like-count">0</span>)</button>
                <button id="dislike-post-btn" data-post-id="">Dislike (<span id="dislike-count">0</span>)</button>
            </div>

            <div id="comments-section" class="comments-section" style="display: none;">
                <h3>Comments (<span id="comment-count">0</span>)</h3>
                <div id="comments-list" class="comments-list">
                    <p style="text-align:center; color:#666; font-style: italic;">No comments yet.</p>
                </div>
                <div id="comment-input-area" class="comment-input-area" style="display: none;">
                    <textarea id="comment-text-input" placeholder="Write a comment..." rows="3"></textarea>
                    <button id="send-comment-btn">Comment</button>
                </div>
                <p id="comment-login-prompt" style="text-align: center; color: #666; margin-top: 15px;">Please login to comment.</p>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Upanna. All rights reserved.</p>
    </footer>

    <div id="auth-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="auth-title">
        <div class="modal-container">
            <button class="modal-close" aria-label="Close">Ã—</button>
            <h2 id="auth-title">Login</h2>
            <form id="auth-form">
                <label for="email-input">Email</label>
                <input type="email" id="email-input" required autocomplete="username" />
                <label for="password-input">Password</label>
                <input type="password" id="password-input" required autocomplete="current-password" />
                <div id="name-field-container" style="display:none;">
                    <label for="name-input">Display Name</label>
                    <input type="text" id="name-input" autocomplete="name" />
                </div>
                <button type="submit" id="auth-submit">Login</button>
                <p id="auth-error-msg" style="color: red;"></p>
            </form>
            <div id="switch-auth">Don't have an account? Sign Up</div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>

    <script src="js/firebase_config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/app.js"></script>
    <script src="js/postlist.js"></script>
    <script src="js/chatroom.js"></script>
    <script src="js/message.js"></script>
    <script src="js/profile.js"></script>
</body>
</html>